#!/bin/zsh

[[ -o histignorespace && $BUFFER == ' '* ]] &&
  return 0

emulate -L zsh; setopt extendedglob warncreateglobal

local REPLY
.hist.format $BUFFER &&
  BUFFER=$REPLY
[[ -v functions[_zsh_highlight] ]] &&
  _zsh_highlight

return 0
